<head>
  <title>LoginAppV2</title>
  <link href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>
</head>

<body>
</body>

<template name="register">
    <h2>Register</h2>

    <form class="register">
        <p><label>Name:</label> <input type="name" name="name"></p>
        <p><label>City:</label> <input type="city" name="city"></p>
        <p><label>Email:</label> <input type="email" name="email"></p>
        <p><label>Password:</label> <input type="password" name="password"></p>
        <p><input class="submit" type="submit" value="Register"></p>
    </form>
</template>

<template name="login">
    <h2>Login</h2>
     <form class="login">
        <p><label>Email:</label> <input type="email" name="email"></p>
        <p><label>Password:</label> <input type="password" name="password"></p>
        <p><input class = "submit" type="submit" value="Login"></p>
    </form>
</template>

<template name="home">
    {{#if currentUser}}

    <p> Name: <strong>{{currentUser.profile.name}}</strong></p> 
    <p> City: <strong>{{currentUser.profile.city}}</strong></p>
    <p> Email: <strong>{{currentUser.emails.[0].address}}</strong></p> <button><a href="{{pathFor route='updating'}}"> Update your details </a></button>

    {{else}}

    <p>Welcome to Meteoric Login.</p> 
    <p> <a href="{{pathFor route='register'}}"> Register</a> or <a href="{{pathFor route='login'}}">Login</a> to access your account details</p>
    
    {{/if}}
</template>

<template name="updating">
  {{#if currentUser}}
    
    <h2> Update your details </h2>

    <ul class= "editing-options">
      <li><label>Name:</label> <input type="text" value="{{currentUser.profile.name}}" name="updateName"></li>
      <li><label>City:</label> <input type="text" value="{{currentUser.profile.city}}" name="updateCity"></li>
      <li><label>Email:</label> <input type="text" value="{{currentUser.emails.[0].address}}" name="updateEmail"></li>
    </ul>

    <button> <a href="{{pathFor route = 'home'}}"> Done</a></button>

  {{/if}}
</template>

<template name="navigation">
    <ul class = "menu">
        <li><a href="{{pathFor route='home'}}">Home </a> | </li>

        {{#if currentUser}}

          <li><a href="#" class="logout">Logout</a> </li>

        {{else}}

          <li><a href="{{pathFor route='register'}}">Register </a> | </li>
          <li><a href="{{pathFor route='login'}}">Login</a></li>

        {{/if}}
    </ul>
</template>

<template name="main">
  <div class="container">
    <img src="https://shmck.herokuapp.com/content/images/2015/07/meteor.png"><h1 class= "title"> Meteoric Login </h1>
    <hr>
    {{> navigation}}
    <hr>
    {{> yield}}
  </div>
</template>